# Staging Environment Configuration
# Pre-production testing environment

# ============================================================================
# Server Configuration
# ============================================================================
PORT=8081
ENVIRONMENT=staging
LOG_LEVEL=info

# ============================================================================
# Database Configuration (Staging DB)
# ============================================================================
DB_HOST=shield-staging-db.amazonaws.com
DB_PORT=5432
DB_USER=shield_staging
DB_PASSWORD=${STAGING_DB_PASSWORD}
DB_NAME=shield_auth_staging
DB_SSLMODE=require

# ============================================================================
# Redis Configuration (ElastiCache)
# ============================================================================
REDIS_HOST=shield-staging-redis.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=${STAGING_REDIS_PASSWORD}
REDIS_DB=0

# ============================================================================
# AWS Cognito Configuration (Staging)
# ============================================================================
COGNITO_USER_POOL_ID=${STAGING_COGNITO_USER_POOL_ID}
COGNITO_APP_CLIENT_ID=${STAGING_COGNITO_APP_CLIENT_ID}
COGNITO_APP_CLIENT_SECRET=${STAGING_COGNITO_APP_CLIENT_SECRET}
COGNITO_REGION=us-east-1
COGNITO_DOMAIN=shield-staging.auth.us-east-1.amazoncognito.com

# ============================================================================
# JWT Configuration (Staging)
# ============================================================================
JWT_SECRET=${STAGING_JWT_SECRET}
JWT_EXPIRY=12h
JWT_REFRESH_EXPIRY=72h

# ============================================================================
# OPA Configuration (Staging)
# ============================================================================
OPA_SERVER_URL=http://shield-staging-opa:8181
OPA_POLICY_PATH=/v1/data

# ============================================================================
# Observability & Monitoring (Staging)
# ============================================================================
JAEGER_ENDPOINT=${STAGING_JAEGER_ENDPOINT}
PROMETHEUS_ENDPOINT=${STAGING_PROMETHEUS_ENDPOINT}
ENABLE_METRICS=true
ENABLE_TRACING=true

# ============================================================================
# Rate Limiting (Moderate for staging)
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=500
RATE_LIMIT_BURST=50

# ============================================================================
# Security (Staging)
# ============================================================================
CORS_ALLOWED_ORIGINS=https://staging.shield.yourcompany.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-Device-Fingerprint
TRUSTED_PROXIES=${STAGING_TRUSTED_PROXIES}

# ============================================================================
# Feature Flags (Staging - Test new features)
# ============================================================================
FEATURE_MULTI_FACTOR_AUTH=true
FEATURE_DEVICE_TRACKING=true
FEATURE_SESSION_ROTATION=true
